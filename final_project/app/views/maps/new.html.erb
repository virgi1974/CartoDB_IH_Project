<%= javascript_include_tag 'usermaps/usermaps.js' %>

<p> <%= flash_message %> </p>  

<% if @map.errors.any? %>
  <ul>
    <% @map.errors.full_messages.each do |error| %>
      <li style="background-color: red; margin: 5px;"> <%= error %> </li>
    <% end %>
  </ul>
<% end %>

<div class="container-fluid">
<header class="row">
  <section class="col-sm-5 col-md-offset-3 text-center">
<h1 class='elegantshadow'>Create a new Map</h1>
  <%= form_for [@user, @map], :html => {:class => ""} do |f| %>

    <div class="form-group new-map-form">
      <%= f.text_field :cartodb_username,class: "feedback-input",placeholder: "username"  %>
      <%= f.text_field :table,class: "feedback-input",placeholder: "table name"  %>
      <%= f.text_field :city,class: "feedback-input",placeholder: "city"  %>
    
      <%= f.text_field :state,class: "feedback-input",placeholder: "state" %>
      <br>

        <%= f.text_area :description,class: "feedback-input",placeholder: "description"  %>
        <br>

      <legend>Search by date</legend>
        <%= f.label :date1 %>
        <%= f.date_field :date1,class: "feedback-input" %>

        <%= f.label :date2 %>
        <%= f.date_field :date2,class: "feedback-input"%>  
        <br>
        <br>

        <%= f.label :shared %>
        <%= f.check_box :shared,class: "form-control" %>

      </div>
      
      
      <%= f.submit 'CREATE MAP',type: "submit"  %>

  <% end %>
  </section>

  </header>
</div>

<div class="container" id="up">
  <div class="row">
    <div class="col-sm-5 col-md-offset-3 text-center">
      <input type="button" class="btn btn-success btn-block" id="show-map" value="PREVIEW">
    </div>
  </div>
</div>
<br>

<div class="container">
  <div class="row">
    <div class="col-md-12 map-container">
    </div>
  </div>
</div>
